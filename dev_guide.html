

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developer’s Guide to memex-explorer &mdash; memex-explorer 0.2 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="memex-explorer 0.2 documentation" href="index.html"/>
        <link rel="next" title="API Documentation" href="api.html"/>
        <link rel="prev" title="User’s Guide to memex-explorer" href="user_guide.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> memex-explorer</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User&#8217;s Guide to memex-explorer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#the-interface">The Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#registering-a-crawl">Registering a Crawl</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#registering-monitor-data">Registering Monitor Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#exploring-registered-data">Exploring Registered Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#plotting-registered-data">Plotting Registered Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#further-features">Further Features</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Developer&#8217;s Guide to memex-explorer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-database-model">The Database Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-database">The Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-migrations">Database migrations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">memex-explorer</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Developer&#8217;s Guide to memex-explorer</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/dev_guide.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="developer-s-guide-to-memex-explorer">
<h1>Developer&#8217;s Guide to memex-explorer<a class="headerlink" href="#developer-s-guide-to-memex-explorer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-database-model">
<h2>The Database Model<a class="headerlink" href="#the-database-model" title="Permalink to this headline">¶</a></h2>
<p>The current application database entity relation diagram is:</p>
<img alt="_images/db_model.png" src="_images/db_model.png" />
</div>
<div class="section" id="the-database">
<h2>The Database<a class="headerlink" href="#the-database" title="Permalink to this headline">¶</a></h2>
<p>We are currently using an SQLite database with the following tables:</p>
<img alt="_images/db_tables.png" src="_images/db_tables.png" />
</div>
<div class="section" id="database-migrations">
<h2>Database migrations<a class="headerlink" href="#database-migrations" title="Permalink to this headline">¶</a></h2>
<p>We are using Flask-migrate to manage our application database migrations.</p>
<p>Basic usage</p>
<p>You can create the database or enable migrations if the database already exists with the following command:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ python manage.py db init
</pre></div>
</div>
<p>This will add a <cite>migrations</cite> folder to your application. The contents of this folder need to be added to version control along with your other source files.</p>
<p>You can then generate an initial migration:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ python manage.py db migrate
</pre></div>
</div>
<p>The migration script needs to be reviewed and edited, as Alembic currently does not detect every change you make to your models.
In particular, Alembic is currently unable to detect indexes. Once finalized, the migration script also needs to be added to version control.</p>
<p>Then you can apply the migration to the database:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ python manage.py db upgrade
</pre></div>
</div>
<p>To learn more about Flask-migrations:</p>
<ul class="simple">
<li><a class="reference external" href="http://blog.miguelgrinberg.com/post/flask-migrate-alembic-database-migration-wrapper-for-flask">Tutorial</a>.</li>
<li><a class="reference external" href="http://flask-migrate.readthedocs.org/en/latest/">Docs</a>.</li>
<li><a class="reference external" href="https://github.com/miguelgrinberg/Flask-Migrate">Source code</a>.</li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="API Documentation"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="user_guide.html" class="btn btn-neutral" title="User’s Guide to memex-explorer"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Continuum Analytics.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>